%{
#include "MyString.h"

%}

 marshaling class MarshaledMyString (MyString* param) {

    int len;
    //FIELDMARSHAL:
    {
	memcpy($$, &Shadowed_param->len, sizeof(int));
    }
    //FIELDUNMARSHAL:
    {
	memcpy(&Shadowed_param->len, $$, sizeof(int));

    }
    //FIELDSIZE:
    {
      $SIZE = sizeof(int);

    }

    char* str;
    //FIELDMARSHAL:
    {
 
             memcpy($$, $THIS->buffer, $THIS->length());
		     *($$+$THIS->length()) = '\0'; 
		  
    }
    //FIELDUNMARSHAL:
    {
 
             $THIS = new MyString($$);
		  
    }
    //FIELDSIZE:
    {
 
		     $SIZE = $THIS->length(); 
		  
    }
}

